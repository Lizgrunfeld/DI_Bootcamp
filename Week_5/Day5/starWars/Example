//retrieve the elements from the DOM
let button = document.querySelector('#button')
//button.addEventListener('click', )
//get the data from the API (star wars characters)
async function findCharacter(){
    try{
        const response = await fetch(`https://www.swapi.tech/api/people/${randomNum()}`)
        if(response.status !== 200) {
            throw new Error("Oh No! That person isnt available.")
        } else {
            const person = await response.json();
            console.log("person", person)
            const prop = person.result.properties
            const home = person.result.properties.homeworld
            await findWorld(home)
            addCharacter(prop)
        }
    } catch(err) {
    }
}
findCharacter()
function randomNum(){
    const randomNum = Math.floor(Math.random()*83);
    return randomNum;
}
//append the info on the DOM: the name, height, gender, birth year, and home world of the character
function addCharacter(prop){
    //character name
    let h1Name = document.getElementById('name');
    let name = h1Name.textContent = prop.name;
    console.log(h1Name);
    h1Name.appendChild(name);
    //character height
    let pHeight = document.getElementById('height');
    let height = pHeight.textContent = prop.height;
    console.log(height);
    pHeight.appendChild(height);
    //character gender
    let pGender = document.getElementById('gender');
    let gender = pGender.textContent = prop.gender;
    console.log(gender);
    pGender.appendChild(gender);
    //character birth year
    let pBirthYear = document.getElementById('birthYear');
    let birthYear = pBirthYear.textContent = prop.birth_year;
    console.log(birthYear);
    pBirthYear.appendChild(birthYear);
    //character homeworld
    let pHomeWorld = document.getElementById('homeWorld');
    let homeWorld = pHomeWorld.textContent = prop.homeworld;
    console.log(homeWorld);
    pHomeWorld.appendChild(homeWorld);
}
// get the data from the API (star wars home world)
async function findWorld(home){
    const response = await fetch(home)
    try{
        if(response.status !== 200) {
            throw new Error("Oh No! That person isnt available.")
        } else {
            const world = await response.json()
            console.log(world)
            // return world.properties.name
        }
    } catch(err) {
    }
}
// findWorld()


// working code
// async function generatePerson(numData){
//     const peopleUrl = `https://www.swapi.tech/api/people/${numData}`;

//     const response = await fetch(peopleUrl)
//     const people = await response.json();
//     const home = people.result.properties.homeworld
//     console.log(people)

// addPerson(people);
// }